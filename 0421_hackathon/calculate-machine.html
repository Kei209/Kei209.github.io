<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./calculate-machine.css">
    <title>Hello, world!</title>
</head>

<body>
    <div class="container w-50 mx-auto mt-5">
        <input type="text" class="w-100" id="input-box">
        <div class="num-box p-3">
            <div class="row">
                <button id="btn-clear" class="col-6 mb-2 btn btn-danger">C</button>
                <button id="btn-back" class="col-3 mb-2 btn btn-warning">></button>
                <button id="btn-plus" class="col-3 mb-2 btn btn-primary">+</button>
            </div>

            <div class="row">
                <button id="btn-num1" class="col-3 mb-2 btn btn-dark btn-num">1</button>
                <button id="btn-num2" class="col-3 mb-2 btn btn-dark btn-num">2</button>
                <button id="btn-num3" class="col-3 mb-2 btn btn-dark btn-num">3</button>
                <button id="btn-minus" class="col-3 mb-2 btn btn-primary">-</button>
            </div>

            <div class="row">
                <button id="btn-num4" class="col-3 mb-2 btn btn-dark btn-num">4</button>
                <button id="btn-num5" class="col-3 mb-2 btn btn-dark btn-num">5</button>
                <button id="btn-num6" class="col-3 mb-2 btn btn-dark btn-num">6</button>
                <button id="btn-multiply" class="col-3 mb-2 btn btn-primary">*</button>
            </div>

            <div class="row">
                <button id="btn-num7" class="col-3 mb-2 btn btn-dark btn-num">7</button>
                <button id="btn-num8" class="col-3 mb-2 btn btn-dark btn-num">8</button>
                <button id="btn-num9" class="col-3 mb-2 btn btn-dark btn-num">9</button>
                <button id="btn-divided" class="col-3 mb-2 btn btn-primary">/</button>
            </div>

            <div class="row">
                <button id="btn-ans" class="col-3 mb-2 btn btn-success">=</button>
                <button id="btn-num0" class="col-3 mb-2 btn btn-dark btn-num">0</button>
                <button id="btn-dot" class="col-3 mb-2 btn btn-info">.</button>
                <button class="col-3 mb-2 btn btn-primary">%</button>
            </div>

        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script>
        window.onload = function () {
            // let btn_num1 = document.getElementById('btn-num1')
            // let btn_num2 = document.getElementById('btn-num2')
            // let btn_num3 = document.getElementById('btn-num3')
            // let btn_num4 = document.getElementById('btn-num4')
            // let btn_num5 = document.getElementById('btn-num5')
            // let btn_num6 = document.getElementById('btn-num6')
            // let btn_num7 = document.getElementById('btn-num7')
            // let btn_num8 = document.getElementById('btn-num8')
            // let btn_num9 = document.getElementById('btn-num9')
            // let btn_num0 = document.getElementById('btn-num0')
            let btns = document.querySelectorAll('.btn-num')
            let btn_plus = document.getElementById('btn-plus')
            let btn_minus = document.getElementById('btn-minus')
            let btn_multiply = document.getElementById('btn-multiply')
            let btn_divided = document.getElementById('btn-divided')
            let btn_ans = document.getElementById('btn-ans')
            let btn_dot = document.getElementById('btn-dot')
            let text_box = document.getElementById('input-box')
            let btn_clear = document.getElementById('btn-clear')
            let btn_back = document.getElementById('btn-back')

            btn_clear.onclick = function () {
                location.reload()
            }

            btns.forEach(item=>{
                item.addEventListener('click',function(){
                    text_box.value += item.innerText
                });
            });

            // btn_num1.addEventListener("click", function () {
            //     text_box.value += btn_num1.innerText
            // });
            // btn_num2.addEventListener("click", function () {
            //     text_box.value += btn_num2.innerText
            // });
            // btn_num3.addEventListener("click", function () {
            //     text_box.value += btn_num3.innerText
            // });
            // btn_num4.addEventListener("click", function () {
            //     text_box.value += btn_num4.innerText
            // });
            // btn_num5.addEventListener("click", function () {
            //     text_box.value += btn_num5.innerText
            // });
            // btn_num6.addEventListener("click", function () {
            //     text_box.value += btn_num6.innerText
            // });
            // btn_num7.addEventListener("click", function () {
            //     text_box.value += btn_num7.innerText
            // });
            // btn_num8.addEventListener("click", function () {
            //     text_box.value += btn_num8.innerText
            // });
            // btn_num9.addEventListener("click", function () {
            //     text_box.value += btn_num9.innerText
            // });
            // btn_num0.addEventListener("click", function () {
            //     text_box.value += btn_num0.innerText
            // });
            let str
            btn_plus.onclick = function () {
                text_box.value += btn_plus.innerText
                str = text_box.value
                text_box.value = ""
                btn_dot.removeAttribute('disabled')
            }
            btn_minus.onclick = function () {
                text_box.value += btn_minus.innerText
                str = text_box.value
                text_box.value = ""
                btn_dot.removeAttribute('disabled')
            }
            btn_multiply.onclick = function () {
                text_box.value += btn_multiply.innerText
                str = text_box.value
                text_box.value = ""
                btn_dot.removeAttribute('disabled')
            }
            btn_divided.onclick = function () {
                text_box.value += btn_divided.innerText
                str = text_box.value
                text_box.value = ""
                btn_dot.removeAttribute('disabled')
            }
            btn_ans.onclick = function () {
                let formula = str + text_box.value
                text_box.value = eval(formula)
                btn_dot.removeAttribute('disabled')
            }
            btn_dot.onclick = function () {
                if (text_box.value.length == 0) {
                    text_box.value += 0
                }
                text_box.value += btn_dot.innerText
                btn_dot.setAttribute('disabled', true)
            }
            btn_back.onclick = function () {
                text_box.value = text_box.value.substring(0, text_box.value.length - 1)
                btn_dot.removeAttribute('disabled')
            }
        }
    </script>
</body>

</html>