<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./final-password.css">
    <title>Hello, world!</title>
</head>

<body>

    <div class="container w-50 mx-auto mt-5">
        <button class="btn btn-primary w-100" id="btn-makenumber">產生數字</button>
        <p id="msg" class="border border-dark p-2 mt-3 text-center"></p>
        <input type="text" class="w-100 text-center" id="input-box">
        <button class="btn btn-primary d-block my-3 w-100" id="btn-replay">重玩</button>
        <div class="num-box p-2">
            <button id="btn-num1" class="btn-number col-4 mb-2 btn btn-dark">1</button>
            <button id="btn-num2" class="btn-number col-4 mb-2 btn btn-dark">2</button>
            <button id="btn-num3" class="btn-number col-4 mb-2 btn btn-dark">3</button>
            <button id="btn-num4" class="btn-number col-4 mb-2 btn btn-dark">4</button>
            <button id="btn-num5" class="btn-number col-4 mb-2 btn btn-dark">5</button>
            <button id="btn-num6" class="btn-number col-4 mb-2 btn btn-dark">6</button>
            <button id="btn-num7" class="btn-number col-4 mb-2 btn btn-dark">7</button>
            <button id="btn-num8" class="btn-number col-4 mb-2 btn btn-dark">8</button>
            <button id="btn-num9" class="btn-number col-4 mb-2 btn btn-dark">9</button>
            <button id="btn-clear" class="col-4 mb-2 btn btn-danger">X</button>
            <button id="btn-num0" class="btn-number col-4 mb-2 btn btn-dark">0</button>
            <button id="btn-checkAns" class="col-4 mb-2 btn btn-success">V</button>
        </div>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script>
        window.onload = function () {
            let btn_makenumber = document.getElementById('btn-makenumber')
            let btn_replay = document.getElementById('btn-replay')
            let text_box = document.getElementById('input-box')
            let btn_clear = document.getElementById('btn-clear')
            let btn_checkAns = document.getElementById('btn-checkAns')
            let msg = document.getElementById('msg')
            let btn_number = document.querySelectorAll('.btn-number')
            btn_replay.setAttribute('disabled', true)
            btn_clear.setAttribute('disabled', true)
            btn_checkAns.setAttribute('disabled', true)
            let btn_num1 = document.getElementById('btn-num1')
            let btn_num2 = document.getElementById('btn-num2')
            let btn_num3 = document.getElementById('btn-num3')
            let btn_num4 = document.getElementById('btn-num4')
            let btn_num5 = document.getElementById('btn-num5')
            let btn_num6 = document.getElementById('btn-num6')
            let btn_num7 = document.getElementById('btn-num7')
            let btn_num8 = document.getElementById('btn-num8')
            let btn_num9 = document.getElementById('btn-num9')
            let btn_num0 = document.getElementById('btn-num0')
            btn_num1.setAttribute('disabled', true)
            btn_num2.setAttribute('disabled', true)
            btn_num3.setAttribute('disabled', true)
            btn_num4.setAttribute('disabled', true)
            btn_num5.setAttribute('disabled', true)
            btn_num6.setAttribute('disabled', true)
            btn_num7.setAttribute('disabled', true)
            btn_num8.setAttribute('disabled', true)
            btn_num9.setAttribute('disabled', true)
            btn_num0.setAttribute('disabled', true)
            let m = 0
            let M = 100
            
            let random = Math.floor(Math.random() * (M - m) + m);
            
            btn_makenumber.addEventListener("click", function () {
                // alert(random)
                btn_makenumber.setAttribute('disabled', true)
                btn_replay.removeAttribute('disabled',)
                btn_clear.removeAttribute('disabled',)
                btn_checkAns.removeAttribute('disabled',)
                btn_num1.removeAttribute('disabled',)
                btn_num2.removeAttribute('disabled',)
                btn_num3.removeAttribute('disabled',)
                btn_num4.removeAttribute('disabled',)
                btn_num5.removeAttribute('disabled',)
                btn_num6.removeAttribute('disabled',)
                btn_num7.removeAttribute('disabled',)
                btn_num8.removeAttribute('disabled',)
                btn_num9.removeAttribute('disabled',)
                btn_num0.removeAttribute('disabled',)
            });

            btn_replay.onclick = function () {
                location.reload()
                alert('已重新開始遊戲')
            }
            msg.innerText = `${m} ~ ${M}`
            
            btn_checkAns.onclick = function () {

                if (parseInt(text_box.value, 10) > M || parseInt(text_box.value, 10) < m) {
                    alert('超過猜測範圍')
                }
                else {
                    if (parseInt(text_box.value, 10) == random) {
                        alert('BOOM!')
                        location.reload()
                        // m = 0
                        // M = 100
                        // msg.innerText = `${m} ~ ${M}`
                    }
                    else {
                        if (parseInt(text_box.value, 10) < random) {
                            m = parseInt(text_box.value, 10)
                            msg.innerText = `${m} ~ ${M}`
                        }
                        else {
                            M = parseInt(text_box.value, 10)
                            msg.innerText = `${m} ~ ${M}`
                        }
                    }
                }
                text_box.value = ""
            }
            

            btn_clear.onclick = function () {
                text_box.value = ""
            }

            btn_number.forEach(item=>{
                item.addEventListener('click',function(){
                    text_box.value += item.innerText
                });
            });

            // btn_num1.addEventListener("click", function () {
            //     text_box.value += btn_num1.innerText
            // });
            // btn_num2.addEventListener("click", function () {
            //     text_box.value += btn_num2.innerText
            // });
            // btn_num3.addEventListener("click", function () {
            //     text_box.value += btn_num3.innerText
            // });
            // btn_num4.addEventListener("click", function () {
            //     text_box.value += btn_num4.innerText
            // });
            // btn_num5.addEventListener("click", function () {
            //     text_box.value += btn_num5.innerText
            // });
            // btn_num6.addEventListener("click", function () {
            //     text_box.value += btn_num6.innerText
            // });
            // btn_num7.addEventListener("click", function () {
            //     text_box.value += btn_num7.innerText
            // });
            // btn_num8.addEventListener("click", function () {
            //     text_box.value += btn_num8.innerText
            // });
            // btn_num9.addEventListener("click", function () {
            //     text_box.value += btn_num9.innerText
            // });
            // btn_num0.addEventListener("click", function () {
            //     text_box.value += btn_num0.innerText
            // });

        }



    </script>
</body>

</html>